local HttpService = game:GetService("HttpService")
local AnalyticsService = game:GetService("RbxAnalyticsService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local hwid = AnalyticsService:GetClientId()
local key = getgenv().Key or "Không có key"
local discordId = getgenv().ID or "Không có ID"

local Webhook_API_URL = "https://discord.com/api/webhooks/1401602933996650577/_mlbJB3Uc_ooFbRkipQQ2B5lAUx8bVsuBkrkYvwh9B0T-2eu6ryuBRZ3HzxAS_LhskiM" -- 🔁 THAY LINK NÀY

local requestFunc = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request

if requestFunc then
    local success, response = pcall(function()
        return requestFunc({
            Url = Webhook_API_URL,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = HttpService:JSONEncode({
                key = key,
                discordId = discordId,
                hwid = hwid,
                playerName = player.Name,
                userId = player.UserId
            })
        })
    end)

    if success then
        print("[✅] HWID, ID, KEY đã gửi thành công đến API.")
    else
        warn("[❌] Gửi thất bại:", response)
    end
else
    warn("[⚠️] Không tìm thấy method request phù hợp (syn, http, request, fluxus)")
end
